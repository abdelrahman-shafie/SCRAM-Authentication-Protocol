<!-- scram-auth/public/index.html -->
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>SCRAM Auth Demo</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
  </head>
  <body class="bg-light">
    <div class="container py-5">
      <div class="row">
        <!-- LEFT: Forms + Log -->
        <div class="col-md-6 mb-4">
          <div class="card shadow-sm mb-3">
            <div class="card-body">
              <h3 class="card-title text-center mb-3">SCRAM Auth Demo</h3>

              <h5>Register</h5>
              <input
                id="reg-username"
                class="form-control mb-2"
                placeholder="Username"
              />
              <input
                id="reg-password"
                class="form-control mb-2"
                placeholder="Password"
                type="password"
              />
              <button onclick="register()" class="btn btn-success w-100 mb-4">
                Register
              </button>

              <h5>Login</h5>
              <input
                id="log-username"
                class="form-control mb-2"
                placeholder="Username"
              />
              <input
                id="log-password"
                class="form-control mb-2"
                placeholder="Password"
                type="password"
              />
              <div class="d-flex gap-2">
                <button onclick="login()" class="btn btn-primary w-100">
                  Login
                </button>
                <button onclick="loginWrong()" class="btn btn-danger w-100">
                  Wrong PW
                </button>
              </div>

              <p class="mt-3 fw-bold" id="result"></p>
            </div>
          </div>

          <div class="card shadow-sm">
            <div class="card-header">SCRAM Live Log</div>
            <div class="card-body">
              <pre id="log" style="font-size: 0.9rem"></pre>
            </div>
          </div>
        </div>

        <!-- RIGHT: Explanation -->
        <div class="col-md-6">
          <div class="card shadow-sm">
            <div class="card-header bg-secondary text-white">
              What Is SCRAM?
            </div>
            <div class="card-body">
              <ul>
                <li>
                  <strong>No password ever sent</strong>—only cryptographic
                  proofs.
                </li>
                <li>Uses PBKDF2, HMAC, nonces to thwart replay & sniffing.</li>
                <li>Standard in PostgreSQL, MongoDB, IMAP servers.</li>
              </ul>
              <hr />
              <strong>Protocol Steps:</strong>
              <ol style="font-size: 0.9rem">
                <li>Client → username + clientNonce</li>
                <li>Server → salt, serverNonce, iterations</li>
                <li>Client → derive key & send clientProof</li>
                <li>Server → verify proof & reply serverSignature</li>
              </ol>
            </div>
          </div>
        </div>
      </div>
    </div>
    <script src="script.js"></script>
  </body>
</html>
